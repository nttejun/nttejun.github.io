---
title: 'jekyll 완료'
layout: post
---
# @Query : QueryException could not resolve property : column of entity #

@(![블로그])[티스토리]

### 문제발생 :  특정 패키지 경로에 있는 entity board_no 컬럼 찾을 수 없다는 오류 발생 ###
- ``` 오류 : QueryException could not resolve property : board_no: of starter.api.Board ```


### 문제상황 : Spring Data가 제공하는 @Query 추가하고 애플리케이션 실행하면 오류 발생 ###
- @Query Annotation 사용
- ```public interface BoardRepository
@Query(SELECT b.board_no FROM Board b ORDER BY b.board_no DESC )
Collection<Board> getBoardNo; ```

-	@Query Annotation
	- ``` org.springframework.data.annotation.QueryAnnotation ```


### 문제해결 : 컬럼 매핑한 필드명으로 컬럼 값을 변경 ###
- 잘못된 사용 : 실제 테이블 컬럼 명을 사용하여 @Query SQL 작성
	- ```"SELECT b.board_no FROM Board b ORDER BY b.board_no DESC"```
- 올바른 사용 : **컬럼 매핑한 필드 명**을 사용하여 @Query SQL 작성
	- ``` "SELECT b.no FROM Board b ORDER BY b.no DESC"```

- Board Class
	- ``` @Column(name = "board_no")
	 private Long no;```

- board_no 컬럼을 매핑한 필드명 no 사용하고 있어 위 내용의 잘못된 사용방법으로 쿼리 작성하는 경우 문제가 발생했다.

- 쿼리문 컬럼 값을 컬럼 매핑한 필드 명으로 변경하고 애플리케이션 실행하니 정상적으로 실행된 것을 확인했다.  


### 정리하며 : 확인을 통한 확신이 있어야 한다.

- 이슈가 발생하고 충분히 금방 해결이 가능한 문제였다.
- 시간이 오래 걸린 이유는 확인을 통한 확신 없이 섣불리 해당 이슈를 다른 원인으로 의심하기 시작하면서 문제가 되었다.
-  실제 사용하지도 않은 Querydsl 로 문제의 범위를 확장하며, 설정 확인에 많은 시간을 소모했다.
- **Querydsl 정확히 알지 못한 상태로 사용을 시도했던 것이 문제**였다.
- 기능을 사용하고 싶다면 정확히 알고 사용하자.
- 문제 발생 원인이 무엇이었는지 **확인하는 과정이 끝나기 전까지 다른 문제를 포함하지 않도록 하자.**
- **@Query 어노테이션을 외부 라이브러리 항목에서 확인해보니 Spring Data 에서 제공하는 것을 확인**했다.
	- ```org.sprignframework.data.spring-data-commons
org.springframework.data.annotation
QueryAnnotation```
-  Querydsl 문제가 아닌 것이 밝혀졌으며, 표시된 오류 내용을 통해 SQL문을 다시 확인하는 과정에서 문제를 발견하였고 쿼리 수정 후 해결되었다.